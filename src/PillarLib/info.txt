"lunar apocalypse" documentation

// Starts the Celestial Pillar event.
Terraria.WorldGen::TriggerLunarApocalypse():
    Edit list to include additional NPC IDs
    Edit `4` constants to be list.Count
    Set additional variables for new pillars (Terraria.NPC::TowerActiveX, Terraria.NPC::ShieldStrengthTowerX)
    SendData(101)            -> Sync additional shield strengths!
    MessageLunarApocalypse() -> See changes #Terraria.WorldGen::MessageLunarApocalypse()

// Called whenever a pillar dies to send a new message in chat.
Terraria.WorldGen::MessageLunarApocalypse():
    Add to num for each additional downed pillar.
    Change NetworkText.FromKey to use Lang.misc[43 + num] only up to FOUR, then use our own provided keys (not random!) (switch to a list instead??)

// Updates the status of pillars (whether they've been downed) and starts Impending Doom if there are none.
Terraria.WorldGen::UpdateLunarApocalypse():
    Honestly just rewrite the whole thing.

Terraria.NPC::DoDeathEvents(Player):
    For each pillar, runs:
        downedTowerX = true;
        TowerActiveX = false;
        WorldGen.UpdateLunarApocalypse();
        WorldGen.MessageLunarApocalypse();

// Note that downed booleans are synced and always true once set to true.  This
// means they persist through additional events, etc.
// TowerActiveX is used for the current temporal condition.

// There is also Terraria.NPC::downedTowers which will need to be modified (but
// it's never used in vanilla).

// Each tower has its own CustomSky (e.g. StardustSky), needs manual
// implementing.

// There is also RGB support for each pillar... lol.

// Also look into implementing new LunarPillarBigProgressBar instances.

// Look into how to support monoliths.
